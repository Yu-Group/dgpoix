<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="A general DGP constructor function that generates X and y data
for any supervised learning DGP, provided the functions for simulating X,
y, and the additive error term."><title>General DGP constructor function to generate X and y data. — xy_dgp_constructor • dgpoix</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="General DGP constructor function to generate X and y data. — xy_dgp_constructor"><meta property="og:description" content="A general DGP constructor function that generates X and y data
for any supervised learning DGP, provided the functions for simulating X,
y, and the additive error term."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dgpoix</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>General DGP constructor function to generate X and y data.</h1>
      
      <div class="d-none name"><code>xy_dgp_constructor.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A general DGP constructor function that generates X and y data
for any supervised learning DGP, provided the functions for simulating X,
y, and the additive error term.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">xy_dgp_constructor</span><span class="op">(</span>
  <span class="va">n</span>,
  <span class="va">X_fun</span>,
  <span class="va">y_fun</span>,
  err_fun <span class="op">=</span> <span class="cn">NULL</span>,
  add_err <span class="op">=</span> <span class="cn">TRUE</span>,
  data_split <span class="op">=</span> <span class="cn">FALSE</span>,
  train_prop <span class="op">=</span> <span class="fl">0.5</span>,
  return_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"y"</span>, <span class="st">"support"</span><span class="op">)</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>n</dt>
<dd><p>Number of samples.</p></dd>
<dt>X_fun</dt>
<dd><p>Function to generate X data. Must take an argument <code>n</code> or
<code>.n</code> which determines the number of observations to generate.</p></dd>
<dt>y_fun</dt>
<dd><p>Function to generate y data. Must take an argument <code>X</code>
which accepts the result from <code>X_fun</code>.</p></dd>
<dt>err_fun</dt>
<dd><p>Function to generate error/noise data. Default <code>NULL</code>
adds no error to the output of <code>y_fun()</code>.</p></dd>
<dt>add_err</dt>
<dd><p>Logical. If <code>TRUE</code> (default), add result of
<code>err_fun()</code> to result of <code>y_fun()</code> to obtain the simulated
response vector. If <code>FALSE</code>, return <code>err_fun(y_fun(...), ...)</code> as
the simulated response vector. Note that <code>add_err = TRUE</code> will return
an error for categorical responses <code>y</code>.</p></dd>
<dt>data_split</dt>
<dd><p>Logical; if <code>TRUE</code>, splits data into training and test
sets according to <code>train_prop</code>.</p></dd>
<dt>train_prop</dt>
<dd><p>Proportion of data in training set if <code>data_split =
TRUE</code>.</p></dd>
<dt>return_values</dt>
<dd><p>Character vector indicating what objects to return in
list. Elements in vector must be one of "X", "y", "support".</p></dd>
<dt>...</dt>
<dd><p>Additional arguments to pass to functions that generate X, y, and err. If the argument doesn't exist in one of the functions it is ignored. If two or more of the functions have an argument of the same name but with different values, then use one of the following prefixes in front of the argument name (passed via <code>...</code>) to differentiate it: .X_, .y_, or .err_.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of the named objects that were requested in
<code>return_values</code>. See brief descriptions below.</p><dl><dt>X</dt>
<dd><p>A <code>data.frame</code>.</p></dd>

<dt>y</dt>
<dd><p>A response vector of length <code>nrow(X)</code>.</p></dd>

<dt>support</dt>
<dd><p>A vector of feature indices indicating all features used in
the true support of the DGP.</p></dd>


</dl><p>Note that if <code>data_split = TRUE</code> and "X", "y"
are in <code>return_values</code>, then the returned list also contains slots for
"Xtest" and "ytest".</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>add_err = TRUE</code>, data is generated from the following
additive model:
$$y = y_fun(X, ...) + err_fun(X, y_fun(X), ...), where X = X_fun(...).$$</p>
<p>If <code>add_err = FALSE</code>, data is generated via:
$$y = err_fun(X, y_fun(X, ...), ...), where X = X_fun(...).$$</p>
<p>Note that while <code>err_fun()</code> is allowed to depend on both X and y, it is
not necessary that <code>err_fun()</code> depend on X or y.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># generate X = 100 x 10 standard Gaussian, y = linear regression model</span></span>
<span class="r-in"><span class="va">sim_data</span> <span class="op">&lt;-</span> <span class="fu">xy_dgp_constructor</span><span class="op">(</span>X_fun <span class="op">=</span> <span class="fu">MASS</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">mvrnorm</a></span>,</span>
<span class="r-in">                               y_fun <span class="op">=</span> <span class="va">generate_y_linear</span>,</span>
<span class="r-in">                               err_fun <span class="op">=</span> <span class="va">rnorm</span>, data_split <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">                               <span class="co"># shared dgp arguments</span></span>
<span class="r-in">                               n <span class="op">=</span> <span class="fl">100</span>,</span>
<span class="r-in">                               <span class="co"># arguments specifically for X_fun</span></span>
<span class="r-in">                               .X_mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>, .X_Sigma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>,</span>
<span class="r-in">                               <span class="co"># arguments specifically for y_fun</span></span>
<span class="r-in">                               .y_betas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, .y_return_support <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">                               <span class="co"># arguments specifically for err_fun</span></span>
<span class="r-in">                               .err_sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># or alternatively, (since arguments of X_fun, y_fun, err_fun are unique,</span></span>
<span class="r-in"><span class="co"># with the exception of `n`)</span></span>
<span class="r-in"><span class="va">sim_data</span> <span class="op">&lt;-</span> <span class="fu">xy_dgp_constructor</span><span class="op">(</span>X_fun <span class="op">=</span> <span class="fu">MASS</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">mvrnorm</a></span>,</span>
<span class="r-in">                               y_fun <span class="op">=</span> <span class="va">generate_y_linear</span>,</span>
<span class="r-in">                               err_fun <span class="op">=</span> <span class="va">rnorm</span>, data_split <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">                               <span class="co"># shared dgp arguments</span></span>
<span class="r-in">                               n <span class="op">=</span> <span class="fl">100</span>,</span>
<span class="r-in">                               <span class="co"># arguments specifically for X_fun</span></span>
<span class="r-in">                               mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>, Sigma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>,</span>
<span class="r-in">                               <span class="co"># arguments specifically for y_fun</span></span>
<span class="r-in">                               betas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, return_support <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">                               <span class="co"># arguments specifically for err_fun</span></span>
<span class="r-in">                               sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Tiffany Tang, James Duncan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

